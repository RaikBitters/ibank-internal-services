@startuml self-employer-state

[*] -> PENDING: Bind

PENDING -> ACTIVE: Bind completed \n Unbind failed
ACTIVE -> PENDING: Unbind with unregistration

PENDING -> DISABLED: Unbind completed \n Bind failed
DISABLED --> PENDING: Bind

ACTIVE -> DISABLED: Unbind

PENDING: do / Check order status by time

ACTIVE: entry / Add taxpayer role to User
ACTIVE: exit / Delete taxpayer role to User

DISABLED: do / Returns a response about the user as "Not Found"

@enduml


@startuml order-state

[*] -->  ORDER_REGISTERED

ORDER_REGISTERED -> IN_PROGRESS

IN_PROGRESS --> COMPLETED

COMPLETED --> [*]

IN_PROGRESS --> FAILED

FAILED --> [*]

@enduml
@startuml self-employer-components

component "АИС Налог-3\nПП НПД" as Tax3 <<Component>>
interface "GetTaxpayerRestrictionsRequest" as TaxpayerRestrictions
interface "PostRegistrationRequest\nGetRegistrationStatusRequest" as Registration
interface "GetTaxpayerStatusRequest" as TaxpayerStatus
interface "PutTaxpayerDataRequest" as TaxpayerData
interface "PostBindPartnerWithInnRequest\nGetBindPartnerStatusRequest" as BindPartner
interface "PostUnregistrationRequest\nGetUnregistrationStatusRequest" as Unregistration

Tax3 --() TaxpayerRestrictions
Tax3 --() Registration
Tax3 --() TaxpayerStatus
Tax3 --() TaxpayerData
Tax3 --() BindPartner
Tax3 --() Unregistration

component "Self-employed service" as SelfEmplService <<Component>>
interface "GET /restrictions/{vatin}" as getRestrictions
interface "GET /self-employers/{id}" as getSelfEmplsId
interface "DELETE /self-employers/{id}" as delSelfEmplsId
interface "PATCH /self-employers/{id}" as patchSelfEmplsId
interface "POST /self-employers/" as postSelfEmpls
interface "GET /self-employers/" as getSelfEmpls
interface "GET /orders/{id}" as getOrdersId

SelfEmplService --() getRestrictions
SelfEmplService --() getSelfEmpls
SelfEmplService --() postSelfEmpls
SelfEmplService --() getSelfEmplsId
SelfEmplService --() patchSelfEmplsId
SelfEmplService --() delSelfEmplsId
SelfEmplService --() getOrdersId

SelfEmplService -up-( TaxpayerRestrictions
SelfEmplService -up-( Registration
SelfEmplService -up-( TaxpayerStatus
SelfEmplService -up-( TaxpayerData
SelfEmplService -up-( BindPartner
SelfEmplService -up-( Unregistration

@enduml



@startuml incomes-components

component "АИС Налог-3\nПП НПД" as Tax3 <<Component>>
interface "PostIncomeRequestV2" as PostIncome
interface "PostCancelReceiptRequestV2" as PostCancelReceipt
interface "GetIncomeRequestV2" as GetIncome
interface "GetIncomeForPeriodRequest" as GetIncomeForPeriod

Tax3 --() PostIncome
Tax3 --() PostCancelReceipt
Tax3 --() GetIncome
Tax3 --() GetIncomeForPeriod

component "Self-employed service" as SelfEmplService <<Component>>
interface "GET /self-employers/{id}/incomes" as getIncomes
interface "POST /self-employers/{id}/incomes" as postIncome
interface "GET /self-employers/{id}/incomes/{income-id}" as getIncomesId
interface "DELETE /self-employers/{id}/incomes/{income-id}" as delIncomesId
interface "GET /self-employers/{id}/incomes/statistics" as getIncomesStatistics

SelfEmplService --() getIncomes
SelfEmplService --() postIncome
SelfEmplService --() getIncomesId
SelfEmplService --() delIncomesId
SelfEmplService --() getIncomesStatistics

SelfEmplService -up-( PostIncome
SelfEmplService -up-( PostCancelReceipt
SelfEmplService -up-( GetIncome
SelfEmplService -up-( GetIncomeForPeriod

@enduml



@startuml account-components

component "АИС Налог-3\nПП НПД" as Tax3 <<Component>>
interface "GetTaxpayerAccountStatusRequest" as GetAccountStatus
interface "GetAccrualsAndDebtsRequest" as GetAccrualsAndDebts
interface "GetPaymentDocumentsRequest" as GetPaymentDocuments

Tax3 --() GetAccountStatus
Tax3 --() GetAccrualsAndDebts
Tax3 --() GetPaymentDocuments

component "Self-employed service" as SelfEmplService <<Component>>
interface "GET /self-employers/{id}/account" as getAccount
interface "GET /self-employers/{id}/accruals" as getAccrualsAndDebts
interface "GET /self-employers/{id}/payment-documents" as getPaymentDocuments

SelfEmplService --() getAccount
SelfEmplService --() getAccrualsAndDebts
SelfEmplService --() getPaymentDocuments

SelfEmplService -up-( GetAccountStatus
SelfEmplService -up-( GetAccrualsAndDebts
SelfEmplService -up-( GetPaymentDocuments

@enduml



@startuml reference-components

component "АИС Налог-3\nПП НПД" as Tax3 <<Component>>
interface "GetRegistrationReferenceRequestV2" as GetRegistrationReference
interface "GetIncomeReferenceRequestV2" as GetIncomeReference

Tax3 --() GetRegistrationReference
Tax3 --() GetIncomeReference

component "Self-employed service" as SelfEmplService <<Component>>
interface "GET /self-employers/{id}/reference/{type}" as getReference

SelfEmplService --() getReference

SelfEmplService -up-( GetRegistrationReference
SelfEmplService -up-( GetIncomeReference

@enduml



@startuml notifications-components

component "АИС Налог-3\nПП НПД" as Tax3 <<Component>>
interface "GetNotificationsRequest" as GetNotifications
interface "PostNotificationsAckRequest" as PostNotificationsAck
interface "PostNotificationsArchRequest" as PostNotificationsArch
interface "PostNotificationsAckAllRequest" as PostNotificationsAckAll
interface "PostNotificationsArchAllRequest" as PostNotificationsArchAllRequest
interface "GetNotificationsCountRequest" as GetNotificationsCount
interface "PostNotificationsDeliveredRequest" as PostNotificationsDeliveredRequest

Tax3 --() GetNotifications
Tax3 --() PostNotificationsAck
Tax3 --() PostNotificationsArch
Tax3 --() PostNotificationsAckAll
Tax3 --() PostNotificationsArchAllRequest
Tax3 --() GetNotificationsCount
Tax3 --() PostNotificationsDeliveredRequest

component "Self-employed service" as SelfEmplService <<Component>>
interface "GET  /self-employers/{id}/notifications" as getNotifications
interface "GET  /self-employers/{id}/notifications/count" as getNotificationsCount
interface "POST /self-employers/{id}/notifications" as postNotifications
interface "PUT  /self-employers/{id}/notifications/{notif-id}" as putNotificationId

SelfEmplService --() getNotifications
SelfEmplService --() getNotificationsCount
SelfEmplService --() postNotifications
SelfEmplService --() putNotificationId

SelfEmplService -up-( GetNotifications
SelfEmplService -up-( PostNotificationsAck
SelfEmplService -up-( PostNotificationsArch
SelfEmplService -up-( PostNotificationsAckAll
SelfEmplService -up-( PostNotificationsArchAllRequest
SelfEmplService -up-( GetNotificationsCount
SelfEmplService -up-( PostNotificationsDeliveredRequest

@enduml



@startuml dictionaries-components

component "АИС Налог-3\nПП НПД" as Tax3 <<Component>>\

interface "GetRegionsListRequest" as GetRegionsList
interface "GetActivitiesListRequest" as GetActivitiesList
interface "GetRejectionReasonsListRequest" as GetRejectionReasonsList
interface "GetUnregistrationReasonsListRequest" as GetUnregistrationReasonsList
interface "GetCancelIncomeReasonsListRequest" as GetCancelIncomeReasonsList

Tax3 --() GetRegionsList
Tax3 --() GetActivitiesList
Tax3 --() GetRejectionReasonsList
Tax3 --() GetUnregistrationReasonsList
Tax3 --() GetCancelIncomeReasonsList

component "Self-employed service" as SelfEmplService <<Component>>
interface "GET /dictionaries/{type}" as getDictionary

SelfEmplService --() getDictionary

SelfEmplService -up-( GetRegionsList
SelfEmplService -up-( GetActivitiesList
SelfEmplService -up-( GetRejectionReasonsList
SelfEmplService -up-( GetUnregistrationReasonsList
SelfEmplService -up-( GetCancelIncomeReasonsList

@enduml